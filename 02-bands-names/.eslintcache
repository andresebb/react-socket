[{"C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\index.js":"1","C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\App.js":"2","C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\components\\BandAdd.js":"3","C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\components\\BandList.js":"4","C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\context\\SocketContext.js":"5","C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\hooks\\useSocket.js":"6","C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\components\\BandChart.js":"7"},{"size":251,"mtime":1607115580128,"results":"8","hashOfConfig":"9"},{"size":1364,"mtime":1607118441535,"results":"10","hashOfConfig":"9"},{"size":850,"mtime":1607116833241,"results":"11","hashOfConfig":"9"},{"size":2206,"mtime":1607116712354,"results":"12","hashOfConfig":"9"},{"size":394,"mtime":1607115679107,"results":"13","hashOfConfig":"9"},{"size":664,"mtime":1607117262257,"results":"14","hashOfConfig":"9"},{"size":1583,"mtime":1607118370310,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1xqh6qs",{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"18"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\index.js",[],["33","34"],"C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\App.js",["35","36"],"C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\components\\BandAdd.js",[],"C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\components\\BandList.js",["37"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport { SocketContext } from \"../context/SocketContext\";\r\nimport BandAdd from \"./BandAdd\";\r\n\r\nconst BandList = () => {\r\n  const { socket } = useContext(SocketContext);\r\n  const [bands, setBands] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"current-bands\", (data) => {\r\n      setBands(data);\r\n    });\r\n  }, [socket]);\r\n\r\n  const votar = (id) => {\r\n    socket.emit(\"votar-banda\", id);\r\n  };\r\n\r\n  const borrarBanda = (id) => {\r\n    socket.emit(\"borrar-banda\", id);\r\n  };\r\n\r\n  const cambiarNombre = (id, newName) => {\r\n    socket.emit(\"cambiar-banda-nombre\", {\r\n      id,\r\n      newName,\r\n    });\r\n  };\r\n\r\n  //El value\r\n  const cambioNombre = (event, id) => {\r\n    const nuevoNombre = event.target.value;\r\n\r\n    setBands((bands) =>\r\n      bands.map((band) => {\r\n        if (band.id === id) {\r\n          band.name = nuevoNombre;\r\n        }\r\n\r\n        return band;\r\n      })\r\n    );\r\n  };\r\n\r\n  const onPerdioFoco = (id, nombre) => {\r\n    cambiarNombre(id, nombre);\r\n  };\r\n\r\n  const createRows = () => {\r\n    return bands.map((band) => (\r\n      <tr key={band.id}>\r\n        <td>\r\n          <button className=\"btn btn-primary\" onClick={() => votar(band.id)}>\r\n            +1\r\n          </button>\r\n        </td>\r\n\r\n        <td>\r\n          <input\r\n            className=\"form-control\"\r\n            type=\"text\"\r\n            name=\"\"\r\n            id=\"\"\r\n            value={band.name}\r\n            onChange={(event) => cambioNombre(event, band.id)}\r\n            onBlur={() => onPerdioFoco(band.id, band.name)}\r\n          />\r\n        </td>\r\n        <td> {band.votes}</td>\r\n        <td>\r\n          <button\r\n            className=\"btn btn-danger\"\r\n            onClick={() => borrarBanda(band.id)}\r\n          >\r\n            Borrar\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <table className=\"table table-stripped\">\r\n        <thead>\r\n          <tr>\r\n            <th>Vota</th>\r\n            <th>Nombre</th>\r\n            <th>Votos</th>\r\n            <th>Borrar</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{createRows()}</tbody>\r\n      </table>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BandList;\r\n","C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\context\\SocketContext.js",[],"C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\hooks\\useSocket.js",["38","39"],"import { useMemo, useEffect, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\n\r\nexport const useSocket = (serverPath) => {\r\n  const socket = useMemo(\r\n    () => io.connect(serverPath),\r\n    {\r\n      transports: [\"websocket\"],\r\n    },\r\n    [serverPath]\r\n  );\r\n\r\n  const [online, setOnline] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setOnline(socket.connected);\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"connect\", () => {\r\n      setOnline(true);\r\n    });\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"disconnect\", () => {\r\n      setOnline(false);\r\n    });\r\n  }, [socket]);\r\n\r\n  return {\r\n    socket,\r\n    online,\r\n  };\r\n};\r\n","C:\\Users\\aebb0\\Documents\\platzi-cursos\\udemy\\react-socket\\02-bands-names\\src\\components\\BandChart.js",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":1,"column":27,"nodeType":"46","messageId":"47","endLine":1,"endColumn":36},{"ruleId":"44","severity":1,"message":"48","line":17,"column":10,"nodeType":"46","messageId":"47","endLine":17,"endColumn":16},{"ruleId":"44","severity":1,"message":"49","line":3,"column":8,"nodeType":"46","messageId":"47","endLine":3,"endColumn":15},{"ruleId":"50","severity":1,"message":"51","line":7,"column":5,"nodeType":"52","endLine":9,"endColumn":6},{"ruleId":"50","severity":1,"message":"53","line":7,"column":5,"nodeType":"52","endLine":9,"endColumn":6,"suggestions":"54"},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'socket' is assigned a value but never used.","'BandAdd' is defined but never used.","react-hooks/exhaustive-deps","React Hook useMemo was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","ObjectExpression","React Hook useMemo has a missing dependency: 'serverPath'. Either include it or remove the dependency array.",["57"],"no-global-assign","no-unsafe-negation",{"desc":"58","fix":"59"},"Update the dependencies array to be: [serverPath]",{"range":"60","text":"61"},[203,245],"[serverPath]"]